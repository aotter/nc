import{d as Z,r as $,o as oo,b as h,c as J,j as K,u as o,n as b,k as L,f as io,F as ao,q as eo,s as N,l as ro}from"./ca1f3d0c.js";import{P as Q}from"./9837cbe8.js";import{g as V}from"./f761d461.js";import{b as lo,c as so}from"./a32a8370.js";import{u as no,a as to}from"./9e475d54.js";import{u as co}from"./25e69306.js";import{u as uo}from"./2c76a417.js";import{_ as vo}from"./66dda505.js";import"./cb277961.js";const po=Z({__name:"Scroll.ce",setup(go){ro(g=>{var u,s,a,p,i,m,n,t,e,v,d,f,x,_,C,T,j,E,O,R,q,F,M,P,S,U,z,A,B,D,G,H,I;return{"901dec38":((u=o(r).grid)==null?void 0:u.rows)||3,"085e1568":((s=o(r).grid)==null?void 0:s.columns)||3,"58408cf0":((a=o(r).grid)==null?void 0:a.gap)||0,"242981ac":((m=(i=(p=o(c))==null?void 0:p.position)==null?void 0:i.coordinate)==null?void 0:m[0])||1,"22d17a6b":((e=(t=(n=o(c))==null?void 0:n.position)==null?void 0:t.coordinate)==null?void 0:e[1])||1,"2c3e5a66":((f=(d=(v=o(c))==null?void 0:v.position)==null?void 0:d.dimension)==null?void 0:f[0])||3,"612495a7":((C=(_=(x=o(c))==null?void 0:x.position)==null?void 0:_.dimension)==null?void 0:C[1])||3,d6983138:((E=(j=(T=o(l))==null?void 0:T.position)==null?void 0:j.coordinate)==null?void 0:E[0])||1,"6ccbbab6":((q=(R=(O=o(l))==null?void 0:O.position)==null?void 0:R.coordinate)==null?void 0:q[1])||1,"83fa7a28":((P=(M=(F=o(l))==null?void 0:F.position)==null?void 0:M.dimension)==null?void 0:P[0])||3,"1a2e03a6":((z=(U=(S=o(l))==null?void 0:S.position)==null?void 0:U.dimension)==null?void 0:z[1])||3,"7f802b89":((B=(A=o(l))==null?void 0:A.grid)==null?void 0:B.rows)||3,"35a594f2":((G=(D=o(l))==null?void 0:D.grid)==null?void 0:G.columns)||3,"2d2422ab":((I=(H=o(l))==null?void 0:H.grid)==null?void 0:I.gap)||0}});const{bridge:W}=so(),{type:{dimension:X},properties:{root:r,picture:c,layers:l}}=uo();lo(X),no(r.events.impressions);const{handleClick:k}=to(r.events.click),{handleMediaReady:Y}=co({expensiveEvents:[Q],preloadUrls:[r.events.click.url]}),w=$([]),y=V.timeline({defaults:{duration:0,ease:"none"},paused:!0}).set({},{},100).progress(.5);return W("on",Q,({positionRatio:g})=>{V.to(y,{progress:g})}),oo(()=>{r.settings.layers.forEach((g,u)=>{const{animation:s}=g,a=Object.keys(s),p=a.includes("to"),i=a.includes("from"),m=p&&i?"fromTo":i?"from":"to",{from:n,to:t,start:e,end:v}=s,d=w.value[u],f=v-e;switch(m){case"to":y.to(d,{...t,duration:f},e);break;case"from":y.from(d,{...n,duration:f},e);break;case"fromTo":y.fromTo(d,{...n},{...t,duration:f},e);break}})}),(g,u)=>{var s;return h(),J("div",{class:"root",role:"link",onClick:u[0]||(u[0]=(...a)=>o(k)&&o(k)(...a)),style:b(o(r).style)},[(h(),K(L(o(N)),{".crossOrigin":"anonymous",".sources":o(c).picture.sources,".src":o(c).picture.src,".load":o(Y),class:"picture",style:b(o(c).style)},null,8,[".sources",".src",".load","style"])),io("div",{class:"layers",style:b((s=o(l))==null?void 0:s.style)},[(h(!0),J(ao,null,eo(o(r).settings.layers,({picture:a,style:p,position:i},m)=>{var n,t,e,v;return h(),K(L(o(N)),{class:"layer",key:m,style:b({...p,"--coordinate-x":((n=i?.coordinate)==null?void 0:n[0])||1,"--coordinate-y":((t=i?.coordinate)==null?void 0:t[1])||1,"--dimension-width":((e=i?.dimension)==null?void 0:e[0])||3,"--dimension-height":((v=i?.dimension)==null?void 0:v[0])||3}),ref_for:!0,ref:d=>{w.value.push(d)},".sources":a.sources,".src":a.src},null,8,["style",".sources",".src"])}),128))],4)],4)}}}),mo=`:host{display:block}:host>.root{width:100%;aspect-ratio:var(--width)/var(--height)}@supports not (aspect-ratio: auto){:host{position:relative;padding-top:calc(var(--height) / var(--width) * 100%)}:host>.root{position:absolute;top:0;left:0;width:100%;height:100%}}.root{display:grid;grid-template:repeat(var(--085e1568),1fr)/repeat(var(--901dec38),1fr);gap:var(--58408cf0);cursor:pointer}.picture{grid-area:var(--22d17a6b)/var(--242981ac)/calc(var(--22d17a6b) + var(--612495a7))/calc(var(--242981ac) + var(--2c3e5a66))}.layers{grid-area:var(--6ccbbab6)/var(--d6983138)/calc(var(--6ccbbab6) + var(--1a2e03a6))/calc(var(--d6983138) + var(--83fa7a28));display:grid;grid-template:repeat(var(--35a594f2),1fr)/repeat(var(--7f802b89),1fr);gap:var(--2d2422ab);align-items:center}.layer{grid-area:var(--coordinate-y)/var(--coordinate-x)/calc(var(--coordinate-y) + var(--dimension-height))/calc(var(--coordinate-x) + var(--dimension-width))}
`,fo=vo(po,[["styles",[mo]]]);export{fo as default};
