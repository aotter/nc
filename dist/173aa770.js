import{d as Z,r as $,o as oo,b,c as H,j as I,u as o,n as h,k as L,f as io,F as eo,J as ao,K as N,l as ro}from"./9ae271b2.js";import{P as Q}from"./1236a3b0.js";import{g as V}from"./e11e3bed.js";import{b as lo,c as so}from"./16fc509d.js";import{u as no,a as to}from"./dc06afe3.js";import{u as co}from"./8d78c072.js";import{u as uo}from"./9cc09eb7.js";import{_ as vo}from"./66dda505.js";import"./cb277961.js";const po=Z({__name:"Scroll.ce",setup(go){ro(g=>{var u,s,e,p,i,m,n,t,a,v,d,f,x,_,C,T,j,E,O,R,F,J,K,M,P,S,U,q,z,A,B,D,G;return{"145a0df6":((u=o(r).grid)==null?void 0:u.rows)||3,"5303a68b":((s=o(r).grid)==null?void 0:s.columns)||3,"6ac3b5af":((e=o(r).grid)==null?void 0:e.gap)||0,"252cdb2e":((m=(i=(p=o(c))==null?void 0:p.position)==null?void 0:i.coordinate)==null?void 0:m[0])||1,"224fcdaa":((a=(t=(n=o(c))==null?void 0:n.position)==null?void 0:t.coordinate)==null?void 0:a[1])||1,afcdb972:((f=(d=(v=o(c))==null?void 0:v.position)==null?void 0:d.dimension)==null?void 0:f[0])||3,"460142f0":((C=(_=(x=o(c))==null?void 0:x.position)==null?void 0:_.dimension)==null?void 0:C[1])||3,"108eb045":((E=(j=(T=o(l))==null?void 0:T.position)==null?void 0:j.coordinate)==null?void 0:E[0])||1,"4574eb86":((F=(R=(O=o(l))==null?void 0:O.position)==null?void 0:R.coordinate)==null?void 0:F[1])||1,"672ad9eb":((M=(K=(J=o(l))==null?void 0:J.position)==null?void 0:K.dimension)==null?void 0:M[0])||3,c7ddd5a8:((U=(S=(P=o(l))==null?void 0:P.position)==null?void 0:S.dimension)==null?void 0:U[1])||3,"529a4670":((z=(q=o(l))==null?void 0:q.grid)==null?void 0:z.rows)||3,"394d87e8":((B=(A=o(l))==null?void 0:A.grid)==null?void 0:B.columns)||3,"7a46cd8c":((G=(D=o(l))==null?void 0:D.grid)==null?void 0:G.gap)||0}});const{bridge:W}=so(),{type:{dimension:X},properties:{root:r,picture:c,layers:l}}=uo();lo(X),no(r.events.impressions);const{handleClick:k}=to(r.events.click),{handleMediaReady:Y}=co({expensiveEvents:[Q],preloadUrls:[r.events.click.url]}),w=$([]),y=V.timeline({defaults:{duration:0,ease:"none"},paused:!0}).set({},{},100).progress(.5);return W("on",Q,({positionRatio:g})=>{V.to(y,{progress:g})}),oo(()=>{r.settings.layers.forEach((g,u)=>{const{animation:s}=g,e=Object.keys(s),p=e.includes("to"),i=e.includes("from"),m=p&&i?"fromTo":i?"from":"to",{from:n,to:t,start:a,end:v}=s,d=w.value[u],f=v-a;switch(m){case"to":y.to(d,{...t,duration:f},a);break;case"from":y.from(d,{...n,duration:f},a);break;case"fromTo":y.fromTo(d,{...n},{...t,duration:f},a);break}})}),(g,u)=>{var s;return b(),H("div",{class:"root",role:"link",onClick:u[0]||(u[0]=(...e)=>o(k)&&o(k)(...e)),style:h(o(r).style)},[(b(),I(L(o(N)),{".crossOrigin":"anonymous",".sources":o(c).picture.sources,".src":o(c).picture.src,".load":o(Y),class:"picture",style:h(o(c).style)},null,8,[".sources",".src",".load","style"])),io("div",{class:"layers",style:h((s=o(l))==null?void 0:s.style)},[(b(!0),H(eo,null,ao(o(r).settings.layers,({picture:e,style:p,position:i},m)=>{var n,t,a,v;return b(),I(L(o(N)),{class:"layer",key:m,style:h({...p,"--coordinate-x":((n=i?.coordinate)==null?void 0:n[0])||1,"--coordinate-y":((t=i?.coordinate)==null?void 0:t[1])||1,"--dimension-width":((a=i?.dimension)==null?void 0:a[0])||3,"--dimension-height":((v=i?.dimension)==null?void 0:v[0])||3}),ref_for:!0,ref:d=>{w.value.push(d)},".sources":e.sources,".src":e.src},null,8,["style",".sources",".src"])}),128))],4)],4)}}}),mo=`:host{display:block}:host>.root{width:100%;aspect-ratio:var(--width)/var(--height)}@supports not (aspect-ratio: auto){:host{position:relative;padding-top:calc(var(--height) / var(--width) * 100%)}:host>.root{position:absolute;top:0;left:0;width:100%;height:100%}}.root{display:grid;grid-template:repeat(var(--5303a68b),1fr)/repeat(var(--145a0df6),1fr);gap:var(--6ac3b5af);cursor:pointer}.picture{grid-area:var(--224fcdaa)/var(--252cdb2e)/calc(var(--224fcdaa) + var(--460142f0))/calc(var(--252cdb2e) + var(--afcdb972));display:grid;place-content:center}.layers{grid-area:var(--4574eb86)/var(--108eb045)/calc(var(--4574eb86) + var(--c7ddd5a8))/calc(var(--108eb045) + var(--672ad9eb));display:grid;grid-template:repeat(var(--394d87e8),1fr)/repeat(var(--529a4670),1fr);gap:var(--7a46cd8c)}.layer{grid-area:var(--coordinate-y)/var(--coordinate-x)/calc(var(--coordinate-y) + var(--dimension-height))/calc(var(--coordinate-x) + var(--dimension-width));display:grid;place-content:center}
`,fo=vo(po,[["styles",[mo]]]);export{fo as default};
