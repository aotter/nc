import{u as rr,a as Hf}from"./78b8fe3e.js";import{R as ar}from"./1236a3b0.js";var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={},Yf={get exports(){return ye},set exports(s){ye=s}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(s,l){(function(v,k){s.exports=k()})(Xf,function(){for(var v=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t<e?e:t>n?n:t},k=v,_=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=k(t[e],0,255)):e===3&&(t[e]=k(t[e],0,1));return t},A={},w=0,x=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];w<x.length;w+=1){var R=x[w];A["[object "+R+"]"]=R.toLowerCase()}var Y=function(t){return A[Object.prototype.toString.call(t)]||"object"},X=Y,$=function(t,e){return e===void 0&&(e=null),t.length>=3?Array.prototype.slice.call(t):X(t[0])=="object"&&e?e.split("").filter(function(n){return t[0][n]!==void 0}).map(function(n){return t[0][n]}):t[0]},B=Y,T=function(t){if(t.length<2)return null;var e=t.length-1;return B(t[e])=="string"?t[e].toLowerCase():null},V=Math.PI,p={clip_rgb:_,limit:v,type:Y,unpack:$,last:T,PI:V,TWOPI:V*2,PITHIRD:V/3,DEG2RAD:V/180,RAD2DEG:180/V},D={format:{},autodetect:[]},lt=p.last,Dt=p.clip_rgb,_e=p.type,ht=D,Ne=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if(_e(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=lt(t),u=!1;if(!r){u=!0,ht.sorted||(ht.autodetect=ht.autodetect.sort(function(c,h){return h.p-c.p}),ht.sorted=!0);for(var o=0,a=ht.autodetect;o<a.length;o+=1){var f=a[o];if(r=f.test.apply(f,t),r)break}}if(ht.format[r]){var i=ht.format[r].apply(null,u?t:t.slice(0,-1));n._rgb=Dt(i)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)};Ne.prototype.toString=function(){return _e(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var N=Ne,Rt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rt.Color,[null].concat(t)))};Rt.Color=N,Rt.version="2.4.2";var G=Rt,dr=p.unpack,xe=Math.max,gr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=dr(t,"rgb"),r=n[0],u=n[1],o=n[2];r=r/255,u=u/255,o=o/255;var a=1-xe(r,xe(u,o)),f=a<1?1/(1-a):0,i=(1-r-a)*f,c=(1-u-a)*f,h=(1-o-a)*f;return[i,c,h,a]},vr=gr,pr=p.unpack,br=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=pr(t,"cmyk");var n=t[0],r=t[1],u=t[2],o=t[3],a=t.length>4?t[4]:1;return o===1?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),u>=1?0:255*(1-u)*(1-o),a]},mr=br,yr=G,Ee=N,Ce=D,wr=p.unpack,kr=p.type,Mr=vr;Ee.prototype.cmyk=function(){return Mr(this._rgb)},yr.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ee,[null].concat(t,["cmyk"])))},Ce.format.cmyk=mr,Ce.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=wr(t,"cmyk"),kr(t)==="array"&&t.length===4)return"cmyk"}});var _r=p.unpack,Nr=p.last,Gt=function(t){return Math.round(t*100)/100},xr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_r(t,"hsla"),r=Nr(t)||"lsa";return n[0]=Gt(n[0]||0),n[1]=Gt(n[1]*100)+"%",n[2]=Gt(n[2]*100)+"%",r==="hsla"||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},Er=xr,Cr=p.unpack,Lr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=Cr(t,"rgba");var n=t[0],r=t[1],u=t[2];n/=255,r/=255,u/=255;var o=Math.min(n,r,u),a=Math.max(n,r,u),f=(a+o)/2,i,c;return a===o?(i=0,c=Number.NaN):i=f<.5?(a-o)/(a+o):(a-o)/(2-a-o),n==a?c=(r-u)/(a-o):r==a?c=2+(u-n)/(a-o):u==a&&(c=4+(n-r)/(a-o)),c*=60,c<0&&(c+=360),t.length>3&&t[3]!==void 0?[c,i,f,t[3]]:[c,i,f]},Le=Lr,Ar=p.unpack,qr=p.last,Rr=Er,Or=Le,Ut=Math.round,Ir=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ar(t,"rgba"),r=qr(t)||"rgb";return r.substr(0,3)=="hsl"?Rr(Or(n),r):(n[0]=Ut(n[0]),n[1]=Ut(n[1]),n[2]=Ut(n[2]),(r==="rgba"||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,r==="rgb"?3:4).join(",")+")")},Wr=Ir,Fr=p.unpack,Zt=Math.round,Pr=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];e=Fr(e,"hsl");var r=e[0],u=e[1],o=e[2],a,f,i;if(u===0)a=f=i=o*255;else{var c=[0,0,0],h=[0,0,0],b=o<.5?o*(1+u):o+u-o*u,d=2*o-b,m=r/360;c[0]=m+1/3,c[1]=m,c[2]=m-1/3;for(var y=0;y<3;y++)c[y]<0&&(c[y]+=1),c[y]>1&&(c[y]-=1),6*c[y]<1?h[y]=d+(b-d)*6*c[y]:2*c[y]<1?h[y]=b:3*c[y]<2?h[y]=d+(b-d)*(2/3-c[y])*6:h[y]=d;t=[Zt(h[0]*255),Zt(h[1]*255),Zt(h[2]*255)],a=t[0],f=t[1],i=t[2]}return e.length>3?[a,f,i,e[3]]:[a,f,i,1]},Ae=Pr,qe=Ae,Re=D,Oe=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ie=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,We=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Fe=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Pe=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,je=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Se=Math.round,He=function(t){t=t.toLowerCase().trim();var e;if(Re.format.named)try{return Re.format.named(t)}catch{}if(e=t.match(Oe)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(Ie)){for(var u=e.slice(1,5),o=0;o<4;o++)u[o]=+u[o];return u}if(e=t.match(We)){for(var a=e.slice(1,4),f=0;f<3;f++)a[f]=Se(a[f]*2.55);return a[3]=1,a}if(e=t.match(Fe)){for(var i=e.slice(1,5),c=0;c<3;c++)i[c]=Se(i[c]*2.55);return i[3]=+i[3],i}if(e=t.match(Pe)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var b=qe(h);return b[3]=1,b}if(e=t.match(je)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var m=qe(d);return m[3]=+e[4],m}};He.test=function(t){return Oe.test(t)||Ie.test(t)||We.test(t)||Fe.test(t)||Pe.test(t)||je.test(t)};var jr=He,Sr=G,Xe=N,Ye=D,Hr=p.type,Xr=Wr,De=jr;Xe.prototype.css=function(t){return Xr(this._rgb,t)},Sr.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xe,[null].concat(t,["css"])))},Ye.format.css=De,Ye.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&Hr(t)==="string"&&De.test(t))return"css"}});var Ge=N,Yr=G,Dr=D,Gr=p.unpack;Dr.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Gr(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},Yr.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ge,[null].concat(t,["gl"])))},Ge.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var Ur=p.unpack,Zr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ur(t,"rgb"),r=n[0],u=n[1],o=n[2],a=Math.min(r,u,o),f=Math.max(r,u,o),i=f-a,c=i*100/255,h=a/(255-i)*100,b;return i===0?b=Number.NaN:(r===f&&(b=(u-o)/i),u===f&&(b=2+(o-r)/i),o===f&&(b=4+(r-u)/i),b*=60,b<0&&(b+=360)),[b,c,h]},zr=Zr,Tr=p.unpack,Jr=Math.floor,Kr=function(){for(var t,e,n,r,u,o,a=[],f=arguments.length;f--;)a[f]=arguments[f];a=Tr(a,"hcg");var i=a[0],c=a[1],h=a[2],b,d,m;h=h*255;var y=c*255;if(c===0)b=d=m=h;else{i===360&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;var E=Jr(i),q=i-E,I=h*(1-c),F=I+y*(1-q),J=I+y*q,z=I+y;switch(E){case 0:t=[z,J,I],b=t[0],d=t[1],m=t[2];break;case 1:e=[F,z,I],b=e[0],d=e[1],m=e[2];break;case 2:n=[I,z,J],b=n[0],d=n[1],m=n[2];break;case 3:r=[I,F,z],b=r[0],d=r[1],m=r[2];break;case 4:u=[J,I,z],b=u[0],d=u[1],m=u[2];break;case 5:o=[z,I,F],b=o[0],d=o[1],m=o[2];break}}return[b,d,m,a.length>3?a[3]:1]},Br=Kr,Vr=p.unpack,Qr=p.type,$r=G,Ue=N,Ze=D,ta=zr;Ue.prototype.hcg=function(){return ta(this._rgb)},$r.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ue,[null].concat(t,["hcg"])))},Ze.format.hcg=Br,Ze.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Vr(t,"hcg"),Qr(t)==="array"&&t.length===3)return"hcg"}});var ea=p.unpack,na=p.last,Ot=Math.round,ra=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ea(t,"rgba"),r=n[0],u=n[1],o=n[2],a=n[3],f=na(t)||"auto";a===void 0&&(a=1),f==="auto"&&(f=a<1?"rgba":"rgb"),r=Ot(r),u=Ot(u),o=Ot(o);var i=r<<16|u<<8|o,c="000000"+i.toString(16);c=c.substr(c.length-6);var h="0"+Ot(a*255).toString(16);switch(h=h.substr(h.length-2),f.toLowerCase()){case"rgba":return"#"+c+h;case"argb":return"#"+h+c;default:return"#"+c}},ze=ra,aa=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ua=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,oa=function(t){if(t.match(aa)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,u=e&255;return[n,r,u,1]}if(t.match(ua)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var o=parseInt(t,16),a=o>>24&255,f=o>>16&255,i=o>>8&255,c=Math.round((o&255)/255*100)/100;return[a,f,i,c]}throw new Error("unknown hex color: "+t)},Te=oa,fa=G,Je=N,ia=p.type,Ke=D,ca=ze;Je.prototype.hex=function(t){return ca(this._rgb,t)},fa.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Je,[null].concat(t,["hex"])))},Ke.format.hex=Te,Ke.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&ia(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var sa=p.unpack,Be=p.TWOPI,la=Math.min,ha=Math.sqrt,da=Math.acos,ga=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=sa(t,"rgb"),r=n[0],u=n[1],o=n[2];r/=255,u/=255,o/=255;var a,f=la(r,u,o),i=(r+u+o)/3,c=i>0?1-f/i:0;return c===0?a=NaN:(a=(r-u+(r-o))/2,a/=ha((r-u)*(r-u)+(r-o)*(u-o)),a=da(a),o>u&&(a=Be-a),a/=Be),[a*360,c,i]},va=ga,pa=p.unpack,zt=p.limit,pt=p.TWOPI,Tt=p.PITHIRD,bt=Math.cos,ba=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=pa(t,"hsi");var n=t[0],r=t[1],u=t[2],o,a,f;return isNaN(n)&&(n=0),isNaN(r)&&(r=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(f=(1-r)/3,o=(1+r*bt(pt*n)/bt(Tt-pt*n))/3,a=1-(f+o)):n<2/3?(n-=1/3,o=(1-r)/3,a=(1+r*bt(pt*n)/bt(Tt-pt*n))/3,f=1-(o+a)):(n-=2/3,a=(1-r)/3,f=(1+r*bt(pt*n)/bt(Tt-pt*n))/3,o=1-(a+f)),o=zt(u*o*3),a=zt(u*a*3),f=zt(u*f*3),[o*255,a*255,f*255,t.length>3?t[3]:1]},ma=ba,ya=p.unpack,wa=p.type,ka=G,Ve=N,Qe=D,Ma=va;Ve.prototype.hsi=function(){return Ma(this._rgb)},ka.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ve,[null].concat(t,["hsi"])))},Qe.format.hsi=ma,Qe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ya(t,"hsi"),wa(t)==="array"&&t.length===3)return"hsi"}});var _a=p.unpack,Na=p.type,xa=G,$e=N,tn=D,Ea=Le;$e.prototype.hsl=function(){return Ea(this._rgb)},xa.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($e,[null].concat(t,["hsl"])))},tn.format.hsl=Ae,tn.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=_a(t,"hsl"),Na(t)==="array"&&t.length===3)return"hsl"}});var Ca=p.unpack,La=Math.min,Aa=Math.max,qa=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=Ca(t,"rgb");var n=t[0],r=t[1],u=t[2],o=La(n,r,u),a=Aa(n,r,u),f=a-o,i,c,h;return h=a/255,a===0?(i=Number.NaN,c=0):(c=f/a,n===a&&(i=(r-u)/f),r===a&&(i=2+(u-n)/f),u===a&&(i=4+(n-r)/f),i*=60,i<0&&(i+=360)),[i,c,h]},Ra=qa,Oa=p.unpack,Ia=Math.floor,Wa=function(){for(var t,e,n,r,u,o,a=[],f=arguments.length;f--;)a[f]=arguments[f];a=Oa(a,"hsv");var i=a[0],c=a[1],h=a[2],b,d,m;if(h*=255,c===0)b=d=m=h;else{i===360&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;var y=Ia(i),E=i-y,q=h*(1-c),I=h*(1-c*E),F=h*(1-c*(1-E));switch(y){case 0:t=[h,F,q],b=t[0],d=t[1],m=t[2];break;case 1:e=[I,h,q],b=e[0],d=e[1],m=e[2];break;case 2:n=[q,h,F],b=n[0],d=n[1],m=n[2];break;case 3:r=[q,I,h],b=r[0],d=r[1],m=r[2];break;case 4:u=[F,q,h],b=u[0],d=u[1],m=u[2];break;case 5:o=[h,q,I],b=o[0],d=o[1],m=o[2];break}}return[b,d,m,a.length>3?a[3]:1]},Fa=Wa,Pa=p.unpack,ja=p.type,Sa=G,en=N,nn=D,Ha=Ra;en.prototype.hsv=function(){return Ha(this._rgb)},Sa.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(en,[null].concat(t,["hsv"])))},nn.format.hsv=Fa,nn.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Pa(t,"hsv"),ja(t)==="array"&&t.length===3)return"hsv"}});var It={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},mt=It,Xa=p.unpack,rn=Math.pow,Ya=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Xa(t,"rgb"),r=n[0],u=n[1],o=n[2],a=Da(r,u,o),f=a[0],i=a[1],c=a[2],h=116*i-16;return[h<0?0:h,500*(f-i),200*(i-c)]},Jt=function(t){return(t/=255)<=.04045?t/12.92:rn((t+.055)/1.055,2.4)},Kt=function(t){return t>mt.t3?rn(t,1/3):t/mt.t2+mt.t0},Da=function(t,e,n){t=Jt(t),e=Jt(e),n=Jt(n);var r=Kt((.4124564*t+.3575761*e+.1804375*n)/mt.Xn),u=Kt((.2126729*t+.7151522*e+.072175*n)/mt.Yn),o=Kt((.0193339*t+.119192*e+.9503041*n)/mt.Zn);return[r,u,o]},an=Ya,yt=It,Ga=p.unpack,Ua=Math.pow,Za=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=Ga(t,"lab");var n=t[0],r=t[1],u=t[2],o,a,f,i,c,h;return a=(n+16)/116,o=isNaN(r)?a:a+r/500,f=isNaN(u)?a:a-u/200,a=yt.Yn*Vt(a),o=yt.Xn*Vt(o),f=yt.Zn*Vt(f),i=Bt(3.2404542*o-1.5371385*a-.4985314*f),c=Bt(-.969266*o+1.8760108*a+.041556*f),h=Bt(.0556434*o-.2040259*a+1.0572252*f),[i,c,h,t.length>3?t[3]:1]},Bt=function(t){return 255*(t<=.00304?12.92*t:1.055*Ua(t,1/2.4)-.055)},Vt=function(t){return t>yt.t1?t*t*t:yt.t2*(t-yt.t0)},un=Za,za=p.unpack,Ta=p.type,Ja=G,on=N,fn=D,Ka=an;on.prototype.lab=function(){return Ka(this._rgb)},Ja.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(on,[null].concat(t,["lab"])))},fn.format.lab=un,fn.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=za(t,"lab"),Ta(t)==="array"&&t.length===3)return"lab"}});var Ba=p.unpack,Va=p.RAD2DEG,Qa=Math.sqrt,$a=Math.atan2,tu=Math.round,eu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ba(t,"lab"),r=n[0],u=n[1],o=n[2],a=Qa(u*u+o*o),f=($a(o,u)*Va+360)%360;return tu(a*1e4)===0&&(f=Number.NaN),[r,a,f]},cn=eu,nu=p.unpack,ru=an,au=cn,uu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=nu(t,"rgb"),r=n[0],u=n[1],o=n[2],a=ru(r,u,o),f=a[0],i=a[1],c=a[2];return au(f,i,c)},ou=uu,fu=p.unpack,iu=p.DEG2RAD,cu=Math.sin,su=Math.cos,lu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=fu(t,"lch"),r=n[0],u=n[1],o=n[2];return isNaN(o)&&(o=0),o=o*iu,[r,su(o)*u,cu(o)*u]},sn=lu,hu=p.unpack,du=sn,gu=un,vu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=hu(t,"lch");var n=t[0],r=t[1],u=t[2],o=du(n,r,u),a=o[0],f=o[1],i=o[2],c=gu(a,f,i),h=c[0],b=c[1],d=c[2];return[h,b,d,t.length>3?t[3]:1]},ln=vu,pu=p.unpack,bu=ln,mu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=pu(t,"hcl").reverse();return bu.apply(void 0,n)},yu=mu,wu=p.unpack,ku=p.type,hn=G,Wt=N,Qt=D,dn=ou;Wt.prototype.lch=function(){return dn(this._rgb)},Wt.prototype.hcl=function(){return dn(this._rgb).reverse()},hn.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Wt,[null].concat(t,["lch"])))},hn.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Wt,[null].concat(t,["hcl"])))},Qt.format.lch=ln,Qt.format.hcl=yu,["lch","hcl"].forEach(function(t){return Qt.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=wu(e,t),ku(e)==="array"&&e.length===3)return t}})});var Mu={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},gn=Mu,_u=N,vn=D,Nu=p.type,Et=gn,xu=Te,Eu=ze;_u.prototype.name=function(){for(var t=Eu(this._rgb,"rgb"),e=0,n=Object.keys(Et);e<n.length;e+=1){var r=n[e];if(Et[r]===t)return r.toLowerCase()}return t},vn.format.named=function(t){if(t=t.toLowerCase(),Et[t])return xu(Et[t]);throw new Error("unknown color name: "+t)},vn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&Nu(t)==="string"&&Et[t.toLowerCase()])return"named"}});var Cu=p.unpack,Lu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Cu(t,"rgb"),r=n[0],u=n[1],o=n[2];return(r<<16)+(u<<8)+o},Au=Lu,qu=p.type,Ru=function(t){if(qu(t)=="number"&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=t&255;return[e,n,r,1]}throw new Error("unknown num color: "+t)},Ou=Ru,Iu=G,pn=N,bn=D,Wu=p.type,Fu=Au;pn.prototype.num=function(){return Fu(this._rgb)},Iu.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(pn,[null].concat(t,["num"])))},bn.format.num=Ou,bn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t.length===1&&Wu(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});var Pu=G,$t=N,mn=D,yn=p.unpack,wn=p.type,kn=Math.round;$t.prototype.rgb=function(t){return t===void 0&&(t=!0),t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(kn)},$t.prototype.rgba=function(t){return t===void 0&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?t===!1?e:kn(e):e})},Pu.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($t,[null].concat(t,["rgb"])))},mn.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=yn(t,"rgba");return n[3]===void 0&&(n[3]=1),n},mn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=yn(t,"rgba"),wn(t)==="array"&&(t.length===3||t.length===4&&wn(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});var Ft=Math.log,ju=function(t){var e=t/100,n,r,u;return e<66?(n=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*Ft(r),u=e<20?0:-254.76935184120902+.8274096064007395*(u=e-10)+115.67994401066147*Ft(u)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*Ft(n),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*Ft(r),u=255),[n,r,u,1]},Mn=ju,Su=Mn,Hu=p.unpack,Xu=Math.round,Yu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=Hu(t,"rgb"),r=n[0],u=n[2],o=1e3,a=4e4,f=.4,i;a-o>f;){i=(a+o)*.5;var c=Su(i);c[2]/c[0]>=u/r?a=i:o=i}return Xu(i)},Du=Yu,te=G,Pt=N,ee=D,Gu=Du;Pt.prototype.temp=Pt.prototype.kelvin=Pt.prototype.temperature=function(){return Gu(this._rgb)},te.temp=te.kelvin=te.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Pt,[null].concat(t,["temp"])))},ee.format.temp=ee.format.kelvin=ee.format.temperature=Mn;var Uu=p.unpack,ne=Math.cbrt,Zu=Math.pow,zu=Math.sign,Tu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Uu(t,"rgb"),r=n[0],u=n[1],o=n[2],a=[re(r/255),re(u/255),re(o/255)],f=a[0],i=a[1],c=a[2],h=ne(.4122214708*f+.5363325363*i+.0514459929*c),b=ne(.2119034982*f+.6806995451*i+.1073969566*c),d=ne(.0883024619*f+.2817188376*i+.6299787005*c);return[.2104542553*h+.793617785*b-.0040720468*d,1.9779984951*h-2.428592205*b+.4505937099*d,.0259040371*h+.7827717662*b-.808675766*d]},_n=Tu;function re(t){var e=Math.abs(t);return e<.04045?t/12.92:(zu(t)||1)*Zu((e+.055)/1.055,2.4)}var Ju=p.unpack,jt=Math.pow,Ku=Math.sign,Bu=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=Ju(t,"lab");var n=t[0],r=t[1],u=t[2],o=jt(n+.3963377774*r+.2158037573*u,3),a=jt(n-.1055613458*r-.0638541728*u,3),f=jt(n-.0894841775*r-1.291485548*u,3);return[255*ae(4.0767416621*o-3.3077115913*a+.2309699292*f),255*ae(-1.2684380046*o+2.6097574011*a-.3413193965*f),255*ae(-.0041960863*o-.7034186147*a+1.707614701*f),t.length>3?t[3]:1]},Nn=Bu;function ae(t){var e=Math.abs(t);return e>.0031308?(Ku(t)||1)*(1.055*jt(e,1/2.4)-.055):t*12.92}var Vu=p.unpack,Qu=p.type,$u=G,xn=N,En=D,to=_n;xn.prototype.oklab=function(){return to(this._rgb)},$u.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(xn,[null].concat(t,["oklab"])))},En.format.oklab=Nn,En.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Vu(t,"oklab"),Qu(t)==="array"&&t.length===3)return"oklab"}});var eo=p.unpack,no=_n,ro=cn,ao=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=eo(t,"rgb"),r=n[0],u=n[1],o=n[2],a=no(r,u,o),f=a[0],i=a[1],c=a[2];return ro(f,i,c)},uo=ao,oo=p.unpack,fo=sn,io=Nn,co=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t=oo(t,"lch");var n=t[0],r=t[1],u=t[2],o=fo(n,r,u),a=o[0],f=o[1],i=o[2],c=io(a,f,i),h=c[0],b=c[1],d=c[2];return[h,b,d,t.length>3?t[3]:1]},so=co,lo=p.unpack,ho=p.type,go=G,Cn=N,Ln=D,vo=uo;Cn.prototype.oklch=function(){return vo(this._rgb)},go.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Cn,[null].concat(t,["oklch"])))},Ln.format.oklch=so,Ln.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=lo(t,"oklch"),ho(t)==="array"&&t.length===3)return"oklch"}});var An=N,po=p.type;An.prototype.alpha=function(t,e){return e===void 0&&(e=!1),t!==void 0&&po(t)==="number"?e?(this._rgb[3]=t,this):new An([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]};var bo=N;bo.prototype.clipped=function(){return this._rgb._clipped||!1};var dt=N,mo=It;dt.prototype.darken=function(t){t===void 0&&(t=1);var e=this,n=e.lab();return n[0]-=mo.Kn*t,new dt(n,"lab").alpha(e.alpha(),!0)},dt.prototype.brighten=function(t){return t===void 0&&(t=1),this.darken(-t)},dt.prototype.darker=dt.prototype.darken,dt.prototype.brighter=dt.prototype.brighten;var yo=N;yo.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],u=this[n]();if(r){var o=n.indexOf(r)-(n.substr(0,2)==="ok"?2:0);if(o>-1)return u[o];throw new Error("unknown channel "+r+" in mode "+n)}else return u};var wt=N,wo=p.type,ko=Math.pow,Mo=1e-7,_o=20;wt.prototype.luminance=function(t){if(t!==void 0&&wo(t)==="number"){if(t===0)return new wt([0,0,0,this._rgb[3]],"rgb");if(t===1)return new wt([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",r=_o,u=function(a,f){var i=a.interpolate(f,.5,n),c=i.luminance();return Math.abs(t-c)<Mo||!r--?i:c>t?u(a,i):u(i,f)},o=(e>t?u(new wt([0,0,0]),this):u(this,new wt([255,255,255]))).rgb();return new wt(o.concat([this._rgb[3]]))}return No.apply(void 0,this._rgb.slice(0,3))};var No=function(t,e,n){return t=ue(t),e=ue(e),n=ue(n),.2126*t+.7152*e+.0722*n},ue=function(t){return t/=255,t<=.03928?t/12.92:ko((t+.055)/1.055,2.4)},tt={},qn=N,Rn=p.type,St=tt,On=function(t,e,n){n===void 0&&(n=.5);for(var r=[],u=arguments.length-3;u-- >0;)r[u]=arguments[u+3];var o=r[0]||"lrgb";if(!St[o]&&!r.length&&(o=Object.keys(St)[0]),!St[o])throw new Error("interpolation mode "+o+" is not defined");return Rn(t)!=="object"&&(t=new qn(t)),Rn(e)!=="object"&&(e=new qn(e)),St[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},In=N,xo=On;In.prototype.mix=In.prototype.interpolate=function(t,e){e===void 0&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return xo.apply(void 0,[this,t,e].concat(n))};var Wn=N;Wn.prototype.premultiply=function(t){t===void 0&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new Wn([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var oe=N,Eo=It;oe.prototype.saturate=function(t){t===void 0&&(t=1);var e=this,n=e.lch();return n[1]+=Eo.Kn*t,n[1]<0&&(n[1]=0),new oe(n,"lch").alpha(e.alpha(),!0)},oe.prototype.desaturate=function(t){return t===void 0&&(t=1),this.saturate(-t)};var Fn=N,Pn=p.type;Fn.prototype.set=function(t,e,n){n===void 0&&(n=!1);var r=t.split("."),u=r[0],o=r[1],a=this[u]();if(o){var f=u.indexOf(o)-(u.substr(0,2)==="ok"?2:0);if(f>-1){if(Pn(e)=="string")switch(e.charAt(0)){case"+":a[f]+=+e;break;case"-":a[f]+=+e;break;case"*":a[f]*=+e.substr(1);break;case"/":a[f]/=+e.substr(1);break;default:a[f]=+e}else if(Pn(e)==="number")a[f]=e;else throw new Error("unsupported value for Color.set");var i=new Fn(a,u);return n?(this._rgb=i._rgb,this):i}throw new Error("unknown channel "+o+" in mode "+u)}else return a};var Co=N,Lo=function(t,e,n){var r=t._rgb,u=e._rgb;return new Co(r[0]+n*(u[0]-r[0]),r[1]+n*(u[1]-r[1]),r[2]+n*(u[2]-r[2]),"rgb")};tt.rgb=Lo;var Ao=N,fe=Math.sqrt,kt=Math.pow,qo=function(t,e,n){var r=t._rgb,u=r[0],o=r[1],a=r[2],f=e._rgb,i=f[0],c=f[1],h=f[2];return new Ao(fe(kt(u,2)*(1-n)+kt(i,2)*n),fe(kt(o,2)*(1-n)+kt(c,2)*n),fe(kt(a,2)*(1-n)+kt(h,2)*n),"rgb")};tt.lrgb=qo;var Ro=N,Oo=function(t,e,n){var r=t.lab(),u=e.lab();return new Ro(r[0]+n*(u[0]-r[0]),r[1]+n*(u[1]-r[1]),r[2]+n*(u[2]-r[2]),"lab")};tt.lab=Oo;var jn=N,Mt=function(t,e,n,r){var u,o,a,f;r==="hsl"?(a=t.hsl(),f=e.hsl()):r==="hsv"?(a=t.hsv(),f=e.hsv()):r==="hcg"?(a=t.hcg(),f=e.hcg()):r==="hsi"?(a=t.hsi(),f=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",a=t.hcl(),f=e.hcl()):r==="oklch"&&(a=t.oklch().reverse(),f=e.oklch().reverse());var i,c,h,b,d,m;(r.substr(0,1)==="h"||r==="oklch")&&(u=a,i=u[0],h=u[1],d=u[2],o=f,c=o[0],b=o[1],m=o[2]);var y,E,q,I;return!isNaN(i)&&!isNaN(c)?(c>i&&c-i>180?I=c-(i+360):c<i&&i-c>180?I=c+360-i:I=c-i,E=i+n*I):isNaN(i)?isNaN(c)?E=Number.NaN:(E=c,(d==1||d==0)&&r!="hsv"&&(y=b)):(E=i,(m==1||m==0)&&r!="hsv"&&(y=h)),y===void 0&&(y=h+n*(b-h)),q=d+n*(m-d),r==="oklch"?new jn([q,y,E],r):new jn([E,y,q],r)},Io=Mt,Sn=function(t,e,n){return Io(t,e,n,"lch")};tt.lch=Sn,tt.hcl=Sn;var Wo=N,Fo=function(t,e,n){var r=t.num(),u=e.num();return new Wo(r+n*(u-r),"num")};tt.num=Fo;var Po=Mt,jo=function(t,e,n){return Po(t,e,n,"hcg")};tt.hcg=jo;var So=Mt,Ho=function(t,e,n){return So(t,e,n,"hsi")};tt.hsi=Ho;var Xo=Mt,Yo=function(t,e,n){return Xo(t,e,n,"hsl")};tt.hsl=Yo;var Do=Mt,Go=function(t,e,n){return Do(t,e,n,"hsv")};tt.hsv=Go;var Uo=N,Zo=function(t,e,n){var r=t.oklab(),u=e.oklab();return new Uo(r[0]+n*(u[0]-r[0]),r[1]+n*(u[1]-r[1]),r[2]+n*(u[2]-r[2]),"oklab")};tt.oklab=Zo;var zo=Mt,To=function(t,e,n){return zo(t,e,n,"oklch")};tt.oklch=To;var ie=N,Jo=p.clip_rgb,ce=Math.pow,se=Math.sqrt,le=Math.PI,Hn=Math.cos,Xn=Math.sin,Ko=Math.atan2,Bo=function(t,e,n){e===void 0&&(e="lrgb"),n===void 0&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map(function(){return 1}));var u=r/n.reduce(function(E,q){return E+q});if(n.forEach(function(E,q){n[q]*=u}),t=t.map(function(E){return new ie(E)}),e==="lrgb")return Vo(t,n);for(var o=t.shift(),a=o.get(e),f=[],i=0,c=0,h=0;h<a.length;h++)if(a[h]=(a[h]||0)*n[0],f.push(isNaN(a[h])?0:n[0]),e.charAt(h)==="h"&&!isNaN(a[h])){var b=a[h]/180*le;i+=Hn(b)*n[0],c+=Xn(b)*n[0]}var d=o.alpha()*n[0];t.forEach(function(E,q){var I=E.get(e);d+=E.alpha()*n[q+1];for(var F=0;F<a.length;F++)if(!isNaN(I[F]))if(f[F]+=n[q+1],e.charAt(F)==="h"){var J=I[F]/180*le;i+=Hn(J)*n[q+1],c+=Xn(J)*n[q+1]}else a[F]+=I[F]*n[q+1]});for(var m=0;m<a.length;m++)if(e.charAt(m)==="h"){for(var y=Ko(c/f[m],i/f[m])/le*180;y<0;)y+=360;for(;y>=360;)y-=360;a[m]=y}else a[m]=a[m]/f[m];return d/=r,new ie(a,e).alpha(d>.99999?1:d,!0)},Vo=function(t,e){for(var n=t.length,r=[0,0,0,0],u=0;u<t.length;u++){var o=t[u],a=e[u]/n,f=o._rgb;r[0]+=ce(f[0],2)*a,r[1]+=ce(f[1],2)*a,r[2]+=ce(f[2],2)*a,r[3]+=f[3]*a}return r[0]=se(r[0]),r[1]=se(r[1]),r[2]=se(r[2]),r[3]>.9999999&&(r[3]=1),new ie(Jo(r))},et=G,_t=p.type,Qo=Math.pow,he=function(t){var e="rgb",n=et("#ccc"),r=0,u=[0,1],o=[],a=[0,0],f=!1,i=[],c=!1,h=0,b=1,d=!1,m={},y=!0,E=1,q=function(g){if(g=g||["#fff","#000"],g&&_t(g)==="string"&&et.brewer&&et.brewer[g.toLowerCase()]&&(g=et.brewer[g.toLowerCase()]),_t(g)==="array"){g.length===1&&(g=[g[0],g[0]]),g=g.slice(0);for(var M=0;M<g.length;M++)g[M]=et(g[M]);o.length=0;for(var L=0;L<g.length;L++)o.push(L/(g.length-1))}return Q(),i=g},I=function(g){if(f!=null){for(var M=f.length-1,L=0;L<M&&g>=f[L];)L++;return L-1}return 0},F=function(g){return g},J=function(g){return g},z=function(g,M){var L,C;if(M==null&&(M=!1),isNaN(g)||g===null)return n;if(M)C=g;else if(f&&f.length>2){var K=I(g);C=K/(f.length-2)}else b!==h?C=(g-h)/(b-h):C=1;C=J(C),M||(C=F(C)),E!==1&&(C=Qo(C,E)),C=a[0]+C*(1-a[0]-a[1]),C=Math.min(1,Math.max(0,C));var H=Math.floor(C*1e4);if(y&&m[H])L=m[H];else{if(_t(i)==="array")for(var W=0;W<o.length;W++){var P=o[W];if(C<=P){L=i[W];break}if(C>=P&&W===o.length-1){L=i[W];break}if(C>P&&C<o[W+1]){C=(C-P)/(o[W+1]-P),L=et.interpolate(i[W],i[W+1],C,e);break}}else _t(i)==="function"&&(L=i(C));y&&(m[H]=L)}return L},Q=function(){return m={}};q(t);var O=function(g){var M=et(z(g));return c&&M[c]?M[c]():M};return O.classes=function(g){if(g!=null){if(_t(g)==="array")f=g,u=[g[0],g[g.length-1]];else{var M=et.analyze(u);g===0?f=[M.min,M.max]:f=et.limits(M,"e",g)}return O}return f},O.domain=function(g){if(!arguments.length)return u;h=g[0],b=g[g.length-1],o=[];var M=i.length;if(g.length===M&&h!==b)for(var L=0,C=Array.from(g);L<C.length;L+=1){var K=C[L];o.push((K-h)/(b-h))}else{for(var H=0;H<M;H++)o.push(H/(M-1));if(g.length>2){var W=g.map(function(j,S){return S/(g.length-1)}),P=g.map(function(j){return(j-h)/(b-h)});P.every(function(j,S){return W[S]===j})||(J=function(j){if(j<=0||j>=1)return j;for(var S=0;j>=P[S+1];)S++;var rt=(j-P[S])/(P[S+1]-P[S]),ct=W[S]+rt*(W[S+1]-W[S]);return ct})}}return u=[h,b],O},O.mode=function(g){return arguments.length?(e=g,Q(),O):e},O.range=function(g,M){return q(g),O},O.out=function(g){return c=g,O},O.spread=function(g){return arguments.length?(r=g,O):r},O.correctLightness=function(g){return g==null&&(g=!0),d=g,Q(),d?F=function(M){for(var L=z(0,!0).lab()[0],C=z(1,!0).lab()[0],K=L>C,H=z(M,!0).lab()[0],W=L+(C-L)*M,P=H-W,j=0,S=1,rt=20;Math.abs(P)>.01&&rt-- >0;)(function(){return K&&(P*=-1),P<0?(j=M,M+=(S-M)*.5):(S=M,M+=(j-M)*.5),H=z(M,!0).lab()[0],P=H-W})();return M}:F=function(M){return M},O},O.padding=function(g){return g!=null?(_t(g)==="number"&&(g=[g,g]),a=g,O):a},O.colors=function(g,M){arguments.length<2&&(M="hex");var L=[];if(arguments.length===0)L=i.slice(0);else if(g===1)L=[O(.5)];else if(g>1){var C=u[0],K=u[1]-C;L=$o(0,g,!1).map(function(S){return O(C+S/(g-1)*K)})}else{t=[];var H=[];if(f&&f.length>2)for(var W=1,P=f.length,j=1<=P;j?W<P:W>P;j?W++:W--)H.push((f[W-1]+f[W])*.5);else H=u;L=H.map(function(S){return O(S)})}return et[M]&&(L=L.map(function(S){return S[M]()})),L},O.cache=function(g){return g!=null?(y=g,O):y},O.gamma=function(g){return g!=null?(E=g,O):E},O.nodata=function(g){return g!=null?(n=et(g),O):n},O};function $o(t,e,n){for(var r=[],u=t<e,o=n?u?e+1:e-1:e,a=t;u?a<o:a>o;u?a++:a--)r.push(a);return r}var Ct=N,tf=he,ef=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],u=1;u<=e.length;u++)r[u]=(e[u]||0)+e[u-1];e=r}return e},nf=function(t){var e,n,r,u,o,a,f;if(t=t.map(function(d){return new Ct(d)}),t.length===2)e=t.map(function(d){return d.lab()}),o=e[0],a=e[1],u=function(d){var m=[0,1,2].map(function(y){return o[y]+d*(a[y]-o[y])});return new Ct(m,"lab")};else if(t.length===3)n=t.map(function(d){return d.lab()}),o=n[0],a=n[1],f=n[2],u=function(d){var m=[0,1,2].map(function(y){return(1-d)*(1-d)*o[y]+2*(1-d)*d*a[y]+d*d*f[y]});return new Ct(m,"lab")};else if(t.length===4){var i;r=t.map(function(d){return d.lab()}),o=r[0],a=r[1],f=r[2],i=r[3],u=function(d){var m=[0,1,2].map(function(y){return(1-d)*(1-d)*(1-d)*o[y]+3*(1-d)*(1-d)*d*a[y]+3*(1-d)*d*d*f[y]+d*d*d*i[y]});return new Ct(m,"lab")}}else if(t.length>=5){var c,h,b;c=t.map(function(d){return d.lab()}),b=t.length-1,h=ef(b),u=function(d){var m=1-d,y=[0,1,2].map(function(E){return c.reduce(function(q,I,F){return q+h[F]*Math.pow(m,b-F)*Math.pow(d,F)*I[E]},0)});return new Ct(y,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return u},rf=function(t){var e=nf(t);return e.scale=function(){return tf(e)},e},de=G,nt=function(t,e,n){if(!nt[n])throw new Error("unknown blend mode "+n);return nt[n](t,e)},ft=function(t){return function(e,n){var r=de(n).rgb(),u=de(e).rgb();return de.rgb(t(r,u))}},it=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},af=function(t){return t},uf=function(t,e){return t*e/255},of=function(t,e){return t>e?e:t},ff=function(t,e){return t>e?t:e},cf=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},sf=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},lf=function(t,e){return 255*(1-(1-e/255)/(t/255))},hf=function(t,e){return t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t)};nt.normal=ft(it(af)),nt.multiply=ft(it(uf)),nt.screen=ft(it(cf)),nt.overlay=ft(it(sf)),nt.darken=ft(it(of)),nt.lighten=ft(it(ff)),nt.dodge=ft(it(hf)),nt.burn=ft(it(lf));for(var df=nt,ge=p.type,gf=p.clip_rgb,vf=p.TWOPI,pf=Math.pow,bf=Math.sin,mf=Math.cos,Yn=G,yf=function(t,e,n,r,u){t===void 0&&(t=300),e===void 0&&(e=-1.5),n===void 0&&(n=1),r===void 0&&(r=1),u===void 0&&(u=[0,1]);var o=0,a;ge(u)==="array"?a=u[1]-u[0]:(a=0,u=[u,u]);var f=function(i){var c=vf*((t+120)/360+e*i),h=pf(u[0]+a*i,r),b=o!==0?n[0]+i*o:n,d=b*h*(1-h)/2,m=mf(c),y=bf(c),E=h+d*(-.14861*m+1.78277*y),q=h+d*(-.29227*m-.90649*y),I=h+d*(1.97294*m);return Yn(gf([E*255,q*255,I*255,1]))};return f.start=function(i){return i==null?t:(t=i,f)},f.rotations=function(i){return i==null?e:(e=i,f)},f.gamma=function(i){return i==null?r:(r=i,f)},f.hue=function(i){return i==null?n:(n=i,ge(n)==="array"?(o=n[1]-n[0],o===0&&(n=n[1])):o=0,f)},f.lightness=function(i){return i==null?u:(ge(i)==="array"?(u=i,a=i[1]-i[0]):(u=[i,i],a=0),f)},f.scale=function(){return Yn.scale(f)},f.hue(n),f},wf=N,kf="0123456789abcdef",Mf=Math.floor,_f=Math.random,Nf=function(){for(var t="#",e=0;e<6;e++)t+=kf.charAt(Mf(_f()*16));return new wf(t,"hex")},ve=Y,Dn=Math.log,xf=Math.pow,Ef=Math.floor,Cf=Math.abs,Gn=function(t,e){e===void 0&&(e=null);var n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ve(t)==="object"&&(t=Object.values(t)),t.forEach(function(r){e&&ve(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(r,u){return Un(n,r,u)},n},Un=function(t,e,n){e===void 0&&(e="equal"),n===void 0&&(n=7),ve(t)=="array"&&(t=Gn(t));var r=t.min,u=t.max,o=t.values.sort(function(be,me){return be-me});if(n===1)return[r,u];var a=[];if(e.substr(0,1)==="c"&&(a.push(r),a.push(u)),e.substr(0,1)==="e"){a.push(r);for(var f=1;f<n;f++)a.push(r+f/n*(u-r));a.push(u)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var i=Math.LOG10E*Dn(r),c=Math.LOG10E*Dn(u);a.push(r);for(var h=1;h<n;h++)a.push(xf(10,i+h/n*(c-i)));a.push(u)}else if(e.substr(0,1)==="q"){a.push(r);for(var b=1;b<n;b++){var d=(o.length-1)*b/n,m=Ef(d);if(m===d)a.push(o[m]);else{var y=d-m;a.push(o[m]*(1-y)+o[m+1]*y)}}a.push(u)}else if(e.substr(0,1)==="k"){var E,q=o.length,I=new Array(q),F=new Array(n),J=!0,z=0,Q=null;Q=[],Q.push(r);for(var O=1;O<n;O++)Q.push(r+O/n*(u-r));for(Q.push(u);J;){for(var g=0;g<n;g++)F[g]=0;for(var M=0;M<q;M++)for(var L=o[M],C=Number.MAX_VALUE,K=void 0,H=0;H<n;H++){var W=Cf(Q[H]-L);W<C&&(C=W,K=H),F[K]++,I[M]=K}for(var P=new Array(n),j=0;j<n;j++)P[j]=null;for(var S=0;S<q;S++)E=I[S],P[E]===null?P[E]=o[S]:P[E]+=o[S];for(var rt=0;rt<n;rt++)P[rt]*=1/F[rt];J=!1;for(var ct=0;ct<n;ct++)if(P[ct]!==Q[ct]){J=!0;break}Q=P,z++,z>200&&(J=!1)}for(var st={},Nt=0;Nt<n;Nt++)st[Nt]=[];for(var xt=0;xt<q;xt++)E=I[xt],st[E].push(o[xt]);for(var ot=[],gt=0;gt<n;gt++)ot.push(st[gt][0]),ot.push(st[gt][st[gt].length-1]);ot=ot.sort(function(be,me){return be-me}),a.push(ot[0]);for(var Lt=1;Lt<ot.length;Lt+=2){var vt=ot[Lt];!isNaN(vt)&&a.indexOf(vt)===-1&&a.push(vt)}}return a},Zn={analyze:Gn,limits:Un},zn=N,Lf=function(t,e){t=new zn(t),e=new zn(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Tn=N,ut=Math.sqrt,U=Math.pow,Af=Math.min,qf=Math.max,Jn=Math.atan2,Kn=Math.abs,Ht=Math.cos,Bn=Math.sin,Rf=Math.exp,Vn=Math.PI,Of=function(t,e,n,r,u){n===void 0&&(n=1),r===void 0&&(r=1),u===void 0&&(u=1);var o=function(vt){return 360*vt/(2*Vn)},a=function(vt){return 2*Vn*vt/360};t=new Tn(t),e=new Tn(e);var f=Array.from(t.lab()),i=f[0],c=f[1],h=f[2],b=Array.from(e.lab()),d=b[0],m=b[1],y=b[2],E=(i+d)/2,q=ut(U(c,2)+U(h,2)),I=ut(U(m,2)+U(y,2)),F=(q+I)/2,J=.5*(1-ut(U(F,7)/(U(F,7)+U(25,7)))),z=c*(1+J),Q=m*(1+J),O=ut(U(z,2)+U(h,2)),g=ut(U(Q,2)+U(y,2)),M=(O+g)/2,L=o(Jn(h,z)),C=o(Jn(y,Q)),K=L>=0?L:L+360,H=C>=0?C:C+360,W=Kn(K-H)>180?(K+H+360)/2:(K+H)/2,P=1-.17*Ht(a(W-30))+.24*Ht(a(2*W))+.32*Ht(a(3*W+6))-.2*Ht(a(4*W-63)),j=H-K;j=Kn(j)<=180?j:H<=K?j+360:j-360,j=2*ut(O*g)*Bn(a(j)/2);var S=d-i,rt=g-O,ct=1+.015*U(E-50,2)/ut(20+U(E-50,2)),st=1+.045*M,Nt=1+.015*M*P,xt=30*Rf(-U((W-275)/25,2)),ot=2*ut(U(M,7)/(U(M,7)+U(25,7))),gt=-ot*Bn(2*a(xt)),Lt=ut(U(S/(n*ct),2)+U(rt/(r*st),2)+U(j/(u*Nt),2)+gt*(rt/(r*st))*(j/(u*Nt)));return qf(0,Af(100,Lt))},Qn=N,If=function(t,e,n){n===void 0&&(n="lab"),t=new Qn(t),e=new Qn(e);var r=t.get(n),u=e.get(n),o=0;for(var a in r){var f=(r[a]||0)-(u[a]||0);o+=f*f}return Math.sqrt(o)},Wf=N,Ff=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(Wf,[null].concat(t))),!0}catch{return!1}},$n=G,tr=he,Pf={cool:function(){return tr([$n.hsl(180,1,.9),$n.hsl(250,.7,.4)])},hot:function(){return tr(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Xt={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},pe=0,er=Object.keys(Xt);pe<er.length;pe+=1){var nr=er[pe];Xt[nr.toLowerCase()]=Xt[nr]}var jf=Xt,Z=G;Z.average=Bo,Z.bezier=rf,Z.blend=df,Z.cubehelix=yf,Z.mix=Z.interpolate=On,Z.random=Nf,Z.scale=he,Z.analyze=Zn.analyze,Z.contrast=Lf,Z.deltaE=Of,Z.distance=If,Z.limits=Zn.limits,Z.valid=Ff,Z.scales=Pf,Z.colors=gn,Z.brewer=jf;var Sf=Z;return Sf})})(Yf);const ur=ye;/*! Fast Average Color | Â© 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function Df(s){var l=s.toString(16);return l.length===1?"0"+l:l}function or(s){return"#"+s.map(Df).join("")}function Gf(s){var l=(s[0]*299+s[1]*587+s[2]*114)/1e3;return l<128}function Uf(s){return s?Zf(s)?s:[s]:[]}function Zf(s){return Array.isArray(s[0])}function we(s,l,v){for(var k=0;k<v.length;k++)if(zf(s,l,v[k]))return!0;return!1}function zf(s,l,v){switch(v.length){case 3:if(Tf(s,l,v))return!0;break;case 4:if(Jf(s,l,v))return!0;break;case 5:if(Kf(s,l,v))return!0;break;default:return!1}}function Tf(s,l,v){return s[l+3]!==255||s[l]===v[0]&&s[l+1]===v[1]&&s[l+2]===v[2]}function Jf(s,l,v){return s[l+3]&&v[3]?s[l]===v[0]&&s[l+1]===v[1]&&s[l+2]===v[2]&&s[l+3]===v[3]:s[l+3]===v[3]}function Yt(s,l,v){return s>=l-v&&s<=l+v}function Kf(s,l,v){var k=v[0],_=v[1],A=v[2],w=v[3],x=v[4],R=s[l+3],Y=Yt(R,w,x);return w?!!(!R&&Y||Yt(s[l],k,x)&&Yt(s[l+1],_,x)&&Yt(s[l+2],A,x)&&Y):Y}function Bf(s,l,v){for(var k={},_=24,A=v.ignoredColor,w=v.step,x=[0,0,0,0,0],R=0;R<l;R+=w){var Y=s[R],X=s[R+1],$=s[R+2],B=s[R+3];if(!(A&&we(s,R,A))){var T=Math.round(Y/_)+","+Math.round(X/_)+","+Math.round($/_);k[T]?k[T]=[k[T][0]+Y*B,k[T][1]+X*B,k[T][2]+$*B,k[T][3]+B,k[T][4]+1]:k[T]=[Y*B,X*B,$*B,B,1],x[4]<k[T][4]&&(x=k[T])}}var V=x[0],p=x[1],D=x[2],lt=x[3],Dt=x[4];return lt?[Math.round(V/lt),Math.round(p/lt),Math.round(D/lt),Math.round(lt/Dt)]:v.defaultColor}function Vf(s,l,v){for(var k=0,_=0,A=0,w=0,x=0,R=v.ignoredColor,Y=v.step,X=0;X<l;X+=Y){var $=s[X+3],B=s[X]*$,T=s[X+1]*$,V=s[X+2]*$;R&&we(s,X,R)||(k+=B,_+=T,A+=V,w+=$,x++)}return w?[Math.round(k/w),Math.round(_/w),Math.round(A/w),Math.round(w/x)]:v.defaultColor}function Qf(s,l,v){for(var k=0,_=0,A=0,w=0,x=0,R=v.ignoredColor,Y=v.step,X=0;X<l;X+=Y){var $=s[X],B=s[X+1],T=s[X+2],V=s[X+3];R&&we(s,X,R)||(k+=$*$*V,_+=B*B*V,A+=T*T*V,w+=V,x++)}return w?[Math.round(Math.sqrt(k/w)),Math.round(Math.sqrt(_/w)),Math.round(Math.sqrt(A/w)),Math.round(w/x)]:v.defaultColor}function fr(s){return At(s,"defaultColor",[0,0,0,0])}function At(s,l,v){return s[l]===void 0?v:s[l]}var ir=10,ke=100;function $f(s){return s.search(/\.svg(\?|$)/i)!==-1}function t0(s){if(sr(s)){var l=s.naturalWidth,v=s.naturalHeight;return!s.naturalWidth&&$f(s.src)&&(l=v=ke),{width:l,height:v}}return n0(s)?{width:s.videoWidth,height:s.videoHeight}:{width:s.width,height:s.height}}function cr(s){return r0(s)?"canvas":e0(s)?"offscreencanvas":a0(s)?"imagebitmap":s.src}function sr(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement}var lr=typeof OffscreenCanvas<"u";function e0(s){return lr&&s instanceof OffscreenCanvas}function n0(s){return typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement}function r0(s){return typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement}function a0(s){return typeof ImageBitmap<"u"&&s instanceof ImageBitmap}function u0(s,l){var v=At(l,"left",0),k=At(l,"top",0),_=At(l,"width",s.width),A=At(l,"height",s.height),w=_,x=A;if(l.mode==="precision")return{srcLeft:v,srcTop:k,srcWidth:_,srcHeight:A,destWidth:w,destHeight:x};var R;return _>A?(R=_/A,w=ke,x=Math.round(w/R)):(R=A/_,x=ke,w=Math.round(x/R)),(w>_||x>A||w<ir||x<ir)&&(w=_,x=A),{srcLeft:v,srcTop:k,srcWidth:_,srcHeight:A,destWidth:w,destHeight:x}}var o0=typeof window>"u";function f0(){return o0?lr?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var i0="FastAverageColor: ";function at(s){return Error(i0+s)}function qt(s,l){l||console.error(s)}var c0=function(){function s(){this.canvas=null,this.ctx=null}return s.prototype.getColorAsync=function(l,v){if(!l)return Promise.reject(at("call .getColorAsync() without resource."));if(typeof l=="string"){if(typeof Image>"u")return Promise.reject(at("resource as string is not supported in this environment"));var k=new Image;return k.crossOrigin=v&&v.crossOrigin||"",k.src=l,this.bindImageEvents(k,v)}else{if(sr(l)&&!l.complete)return this.bindImageEvents(l,v);var _=this.getColor(l,v);return _.error?Promise.reject(_.error):Promise.resolve(_)}},s.prototype.getColor=function(l,v){v=v||{};var k=fr(v);if(!l){var _=at("call .getColor(null) without resource");return qt(_,v.silent),this.prepareResult(k,_)}var A=t0(l),w=u0(A,v);if(!w.srcWidth||!w.srcHeight||!w.destWidth||!w.destHeight){var _=at('incorrect sizes for resource "'.concat(cr(l),'"'));return qt(_,v.silent),this.prepareResult(k,_)}if(!this.canvas&&(this.canvas=f0(),!this.canvas)){var _=at("OffscreenCanvas is not supported in this browser");return qt(_,v.silent),this.prepareResult(k,_)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var _=at("Canvas Context 2D is not supported in this browser");return qt(_,v.silent),this.prepareResult(k)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=w.destWidth,this.canvas.height=w.destHeight;try{this.ctx.clearRect(0,0,w.destWidth,w.destHeight),this.ctx.drawImage(l,w.srcLeft,w.srcTop,w.srcWidth,w.srcHeight,0,0,w.destWidth,w.destHeight);var x=this.ctx.getImageData(0,0,w.destWidth,w.destHeight).data;return this.prepareResult(this.getColorFromArray4(x,v))}catch(R){var _=at("security error (CORS) for resource ".concat(cr(l),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return qt(_,v.silent),!v.silent&&console.error(R),this.prepareResult(k,_)}},s.prototype.getColorFromArray4=function(l,v){v=v||{};var k=4,_=l.length,A=fr(v);if(_<k)return A;var w=_-_%k,x=(v.step||1)*k,R;switch(v.algorithm||"sqrt"){case"simple":R=Vf;break;case"sqrt":R=Qf;break;case"dominant":R=Bf;break;default:throw at("".concat(v.algorithm," is unknown algorithm"))}return R(l,w,{defaultColor:A,ignoredColor:Uf(v.ignoredColor),step:x})},s.prototype.prepareResult=function(l,v){var k=l.slice(0,3),_=[l[0],l[1],l[2],l[3]/255],A=Gf(l);return{value:[l[0],l[1],l[2],l[3]],rgb:"rgb("+k.join(",")+")",rgba:"rgba("+_.join(",")+")",hex:or(k),hexa:or(l),isDark:A,isLight:!A,error:v}},s.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},s.prototype.bindImageEvents=function(l,v){var k=this;return new Promise(function(_,A){var w=function(){Y();var X=k.getColor(l,v);X.error?A(X.error):_(X)},x=function(){Y(),A(at('Error loading image "'.concat(l.src,'".')))},R=function(){Y(),A(at('Image "'.concat(l.src,'" loading aborted')))},Y=function(){l.removeEventListener("load",w),l.removeEventListener("error",x),l.removeEventListener("abort",R)};l.addEventListener("load",w),l.addEventListener("error",x),l.addEventListener("abort",R)})},s}();const hr=new c0,Me=s=>{const l=ur(s),v=l.set("hsl.s",1).set("hsl.h","+20").set("hsl.l",.9).hex(),k=l.set("hsl.s",1).set("hsl.h","-20").set("hsl.l",.2).hex();return ur.bezier([v,k]).scale().correctLightness().colors(9)},s0=s=>{const l=hr.getColor(s,{silent:!0});if(l.error)return[];const{hex:v}=l;return hr.destroy(),Me(v)},l0=(s={})=>{const{view:{color:l=""}}=rr(),{bridge:v}=Hf(),{enableHeavyEvent:k={},preloadUrls:_=[]}=s,A={enableHeavyEvent:k,preloadUrls:_.filter(Boolean)};return{handleMediaReady:w=>{const x=w.target,R=l?Me(l):s0(x);v.emit(ar,{...A,colorPalette:R})},handleReady:()=>{v.emit(ar,{...A,colorPalette:l?Me(l):[]})}}},h0=()=>{const{view:s}=rr(),l=s.type;return{properties:l.properties,type:l}};export{l0 as a,h0 as u};
