import{e,s as x,p as y}from"./0e4a7263.js";import{C as a,T as s,I as o,a as i,P as n,R as r}from"./1236a3b0.js";import"./0381570b.js";const A=()=>{e.removeAllListeners()},m={[a]:t=>{e.emit(a,t);const{tracks:c=[]}=t;m[s]({name:a,tracks:c})},[o]:()=>{e.emit(o)},[i]:t=>{e.emit(i,t)},[n]:t=>{e.emit(n,t)},[r]:()=>{e.emit(r)},[s]:t=>{e.emit(s,t),x(t.tracks)}},T={[a]:t=>{e.on(a,t)},[o]:(t,c)=>{e.once(o,t);const{impressions:f=[]}=c||{},p=[...f],l=[],g=({intersectionRatio:u,isIntersecting:R})=>{!p.length||!R||p.forEach((h,k)=>{clearTimeout(l[k]);const{settings:{ratio:v=.5,remain:E=1e3},tracks:d=[]}=h;u>=v&&(l[k]=setTimeout(()=>{m[s]({name:o,tracks:d}),y(p,k),m[o]()},E))})};T[i](g)},[i]:t=>{e.on(i,t)},[n]:t=>{e.on(n,t)},[r]:t=>{e.once(r,t)},[s]:t=>{e.on(s,t)}};export{A as destroy,m as emit,T as on};
